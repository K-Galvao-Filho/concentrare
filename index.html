<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Um temporizador Pomodoro completo com lista de tarefas, relatórios e temas para ajudar você a focar e aumentar sua produtividade.">
    <title>CONCENTRARE</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link id="favicon" rel="icon" href="data:image/svg+xml,...">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" media="print" onload="this.media='all'">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" media="print" onload="this.media='all'">
    <link rel="stylesheet" href="css/style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#79A37D">
    <noscript>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    </noscript>
</head>
<body>
    <iframe width="560" height="315"
  src="https://www.youtube.com/embed/jfKfPfyJRdk"
  title="YouTube video player" frameborder="0"
  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
  allowfullscreen></iframe>
    <div id="announcer" class="visually-hidden" aria-live="polite" aria-atomic="true"></div>

    <header class="app-header">
        <h1 class="app-title">CONCENTRARE</h1>
        <div class="header-controls">
            <button class="icon-btn" id="theme-toggle-btn" aria-label="Alternar tema claro e escuro"><i class="bi bi-moon-stars-fill"></i></button>
            <button class="icon-btn" data-bs-toggle="modal" data-bs-target="#statsModal" aria-label="Abrir relatórios e estatísticas"><i class="bi bi-bar-chart-line"></i></button>
            <button class="icon-btn" data-bs-toggle="modal" data-bs-target="#settingsModal" aria-label="Abrir configurações"><i class="bi bi-gear"></i></button>
        </div>
    </header>

    <div class="content-wrapper">
        <main id="pomodoro-container" class="widget">
            <div id="mode-buttons" class="mode-buttons-container">
                <button class="mode-btn active" data-mode="pomodoro">Pomodoro</button>
                <button class="mode-btn" data-mode="shortBreak">Pausa Curta</button>
                <button class="mode-btn" data-mode="longBreak">Pausa Longa</button>
            </div>
            <div class="timer-container">
                <svg class="progress-ring" width="220" height="220">
                    <circle class="progress-ring-bg" stroke-width="8" cx="110" cy="110" r="100" />
                    <circle class="progress-ring-fg" stroke-width="8" cx="110" cy="110" r="100" />
                </svg>
                <div id="timer-display" class="timer-display">25:00</div>
            </div>
            <div id="control-buttons" class="control-buttons-container">
                <button id="start-btn" class="control-btn start-btn"><i class="bi bi-play-fill"></i> INICIAR</button>
                <button id="pause-btn" class="control-btn pause-btn hidden" aria-label="Pausar"><i class="bi bi-pause-fill"></i></button>
                <button id="stop-btn" class="control-btn stop-btn hidden" aria-label="Parar"><i class="bi bi-stop-fill"></i></button>
                <button id="next-btn" class="control-btn next-btn hidden" aria-label="Próxima Fase"><i class="bi bi-skip-end-fill"></i></button>
            </div>
            <div class="ambient-sound-control">
                <select id="ambient-sound-select-main" class="form-select form-select-sm">
                    <option value="none">Nenhum Som</option>
                    <optgroup label="YouTube">
                        <option value="youtube_jfKfPfyJRdk">Lofi Girl Radio</option>
                        <option value="youtube_4xDzrJKXOOY">Synthwave Radio</option>
                        <option value="youtube_qb5duRUf6dw">Purple Cat</option>
                    </optgroup>
                    <optgroup label="Sons de Ambiente">
                        <option value="tick-tock">Tic Tac</option>
                        <option value="gentle-rain">Chuva Suave</option>
                        <option value="heavy-rain">Chuva Pesada</option>
                        <option value="night-forest">Floresta Noturna</option>
                        <option value="library">Biblioteca</option>
                        <option value="beach">Praia</option>    
                        <option value="brown-noise">Ruído Marrom</option>
                        <option value="lo-fi">Lo-Fi</option>
                    </optgroup>
                </select>
            </div>
            
            <div id="youtube-player-container" class="hidden">
                <div id="youtube-player"></div>
            </div>
            
            <div class="counters-container">
                <span id="pomodoro-counter">Pomodoro: 0 / 4</span>
                <span id="cycle-counter">Ciclo: 1 / 1</span>
            </div>
        </main>

        <section class="widget task-container">
            <div class="task-header">
                <h3>Tarefas</h3>
                <span id="task-summary">0 / 0</span>
            </div>
            <ul id="task-list" class="task-list"></ul>
            <form id="task-form" class="task-form">
                <input type="text" id="task-input" placeholder="Adicionar uma tarefa..." autocomplete="off">
                <button type="submit" aria-label="Adicionar Tarefa"><i class="bi bi-plus-lg"></i></button>
            </form>
        </section>
    </div>

    <div class="modal fade" id="settingsModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Configurações</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <h6>Duração (minutos)</h6>
            <div class="row g-3">
                <div class="col"><label for="pomodoro-time" class="form-label">Pomodoro</label><input type="number" class="form-control" id="pomodoro-time" min="1"></div>
                <div class="col"><label for="short-break-time" class="form-label">Pausa Curta</label><input type="number" class="form-control" id="short-break-time" min="1"></div>
                <div class="col"><label for="long-break-time" class="form-label">Pausa Longa</label><input type="number" class="form-control" id="long-break-time" min="1"></div>
            </div>
            <hr>
            <h6>Organização e Comportamento</h6>
            <div class="row g-3">
                <div class="col-sm-6"><label for="pomodoros-per-cycle" class="form-label">Pomodoros por Ciclo</label><input type="number" class="form-control" id="pomodoros-per-cycle" min="1"></div>
                <div class="col-sm-6"><label for="total-cycles" class="form-label">Total de Ciclos</label><input type="number" class="form-control" id="total-cycles" min="1"></div>
            </div>
            <div class="form-check form-switch mt-3">
              <input class="form-check-input" type="checkbox" role="switch" id="auto-start-breaks-switch" checked>
              <label class="form-check-label" for="auto-start-breaks-switch">Iniciar pausas automaticamente</label>
            </div>
            <hr>
            <h6>Sons</h6>
            <div class="row g-3">
                <div class="col"><label for="alarm-sound-select" class="form-label">Alarme</label><select id="alarm-sound-select" class="form-select"><option value="notification1">Notificação</option><option value="notification2">Digital</option><option value="bell">Sino</option></select></div>
            </div>
          </div>
          <div class="modal-footer"><button type="button" class="btn btn-primary" id="save-settings-btn">Salvar</button></div>
        </div>
      </div>
    </div>
    
    <div class="modal fade" id="statsModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Relatórios</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body text-center"><h5>Pomodoros Concluídos</h5><div class="stats-group"><p class="stats-value" id="stats-today">0</p><p class="stats-label">Hoje</p></div><div class="stats-group"><p class="stats-value" id="stats-total">0</p><p class="stats-label">Total</p></div></div></div></div>
    </div>

    <audio id="notification1" src="assets/sounds/notification.mp3" preload="auto"></audio>
    <audio id="notification2" src="assets/sounds/digital.mp3" preload="auto"></audio>
    <audio id="bell" src="assets/sounds/bell.mp3" preload="auto"></audio>

    <script src="https://www.youtube.com/iframe_api"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>
    <script type="module" src="js/main.js" defer></script>
</body>
</html>